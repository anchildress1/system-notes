@import 'instantsearch.css/themes/satellite.css';

:root {
  /* ── Override Algolia satellite.css blue primary (#1E59FF → #B56BFF purple) ── */
  --ais-primary-color-rgb: 181, 107, 255;
  --ais-primary-color-alpha: 1;

  /* ── Surface Palette ── */
  --color-bg-base: 230 9% 13%;         /* #1E1F24 */
  --color-bg-surface: 225 11% 30%;     /* #444854 */
  --color-bg-elevated: 225 9% 25%;     /* #3A3D46 */

  /* ── Text Palette ── */
  --color-text-primary: 240 10% 91%;   /* #E6E6EB */
  --color-text-secondary: 229 8% 75%;  /* #B9BBC4 */
  --color-text-muted: 220 10% 55%;

  /* ── Accent Palette ── */
  --color-accent-purple: 270 100% 71%; /* #B56BFF — primary action / agent */
  --color-accent-pink: 338 86% 66%;    /* #F16197 — human identity */
  --color-accent-teal: 178 57% 51%;    /* #3EC7C2 — navigation / references */

  /* ── Borders ── */
  --color-border: 225 10% 25%;
  --color-border-subtle: 225 10% 25% / 0.4;
  --color-border-hover: 262 100% 71%;

  /* ── Shadows ── */
  --shadow-card: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
  --shadow-bento: 0 20px 40px -10px rgba(0, 0, 0, 0.6);
  --highlight-top: inset 0 1px 0 0 rgba(255, 255, 255, 0.08);

  /* ── Spacing ── */
  --space-xs: 0.75rem;
  --space-sm: 1.5rem;
  --space-md: 3rem;
  --space-lg: 6rem;
  --space-xl: 12rem;

  /* ── Border Radius ── */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-pill: 100px;
  --radius-round: 50%;

  /* ── Typography ── */
  --font-sans: 'Inter', sans-serif;
  --font-mono: 'JetBrains Mono', monospace;

  /* ── Animation ── */
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --ease-morph: cubic-bezier(0.4, 0, 0.2, 1);
  --transition-fast: 0.15s ease;
  --transition-base: 0.2s ease;
  --transition-slow: 0.3s var(--ease-morph);

  /* ── Z-Index Scale ── */
  --z-background: -1;
  --z-base: 0;
  --z-sticky: 100;
  --z-modal: 1000;
  --z-overlay: 2000;
  --z-card-flip: 5000;
  --z-search-widget: 9000;
  --z-footer: 9500;

  /* ── Glass surface (reusable) ── */
  --glass-bg: rgba(30, 31, 36, 0.7);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-blur: blur(12px);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  background-color: hsl(var(--color-bg-base));
  color: hsl(var(--color-text-primary));
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.6;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: var(--z-background);
  background-image:
    radial-gradient(circle at 50% -20%, hsl(var(--color-accent-purple) / 0.3), transparent 60%),
    radial-gradient(circle at 85% 90%, hsl(var(--color-accent-teal) / 0.1), transparent 50%);
  pointer-events: none;
}

/* Accessibility: Visible Focus Indicators */
:focus-visible {
  outline: 2px solid hsl(var(--color-accent-purple));
  outline-offset: 4px;
  border-radius: 2px;
}

/* Chat widget: no custom focus color override */
.ais-Chat *:focus-visible,
.ais-ChatToggleButton:focus-visible,
.ais-Chat-toggleButton:focus-visible {
  outline-color: transparent !important;
}

/* Modal Overlay Base */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(8px);
  z-index: var(--z-modal);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-md);
}

/* Utilities */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.card-glass {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-card);
}

a {
  color: inherit;
  text-decoration: none;
}

button {
  background: none;
  border: none;
  font: inherit;
  cursor: pointer;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--color-bg-base));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--color-bg-elevated));
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--color-accent-purple) / 0.5);
}

/* ── Algolia Chat Widget Overrides (Floating Chat) ──
   Must mirror SiteSearch Ask AI panel theme exactly:
   Agent = purple, Human = pink, Links = teal
*/

.ais-Chat {
  --ais-primary-color-rgb: 181, 107, 255 !important;
  --ais-background-color-rgb: 58, 61, 70 !important;
  --ais-text-color-rgb: 230, 230, 235 !important;
}

.ais-Chat-toggleButton {
  width: 60px !important;
  height: 60px !important;
  background-color: hsl(var(--color-accent-purple)) !important;
}

.ais-Chat-toggleButton svg {
  width: 30px !important;
  height: 30px !important;
}

.ais-ChatHeader-titleIcon,
.aspect-square {
  color: hsl(var(--color-accent-purple)) !important;
}

.ais-Chat-window,
.ais-Chat-container {
  background-color: hsl(var(--color-bg-elevated)) !important;
  border: 1px solid hsl(var(--color-border)) !important;
  border-radius: var(--radius-xl) !important;
}

.ais-Chat-userMessage {
  border-color: hsl(var(--color-accent-pink)) !important;
}

.ais-Chat-userMessage .ais-Chat-avatar {
  background-color: hsl(var(--color-bg-surface)) !important;
}

.ais-Chat-assistantMessage {
  border-color: hsl(var(--color-accent-purple)) !important;
}

.ais-Chat-assistantMessage .ais-Chat-avatar {
  background-color: hsl(var(--color-accent-purple)) !important;
}

.ais-Chat-message a {
  color: hsl(var(--color-accent-teal)) !important;
}

.ais-Chat-input:focus,
.ais-Chat-input:focus-visible {
  border-color: hsl(var(--color-accent-purple)) !important;
  box-shadow: 0 0 0 2px hsl(var(--color-accent-purple) / 0.25) !important;
  outline: none !important;
}

.ais-Chat-submitButton {
  background-color: hsl(var(--color-accent-purple)) !important;
  color: white !important;
}

.ais-Chat-submitButton:hover {
  background-color: hsl(var(--color-accent-purple) / 0.8) !important;
}
